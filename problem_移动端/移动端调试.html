<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>调试移动端页面</title>
	<style>
		li{line-height: 30px;}
	</style>
</head>
<body>

	<ul>
		<h3>需求</h3>
		<li>
			1.抓包 window 
		</li>
		<li>
			<a href="http://www.cnblogs.com/zhoujg/p/4386611.html">调试  iphone android</a>
		</li>
		<li>
			线上环境有bug，直接修改返回结果进行调试
		</li>
		<li>
			<a href="https://my.oschina.net/leejun2005/blog/399108">高级用法</a>
		</li>
	</ul>
	<ul>
		<h3>mac</h3>
		<li>1.安装 Charles  help 》ssl proxycing 》install  安装根证书   》安装好后单击证书 》查看简介 》 始终信任该证书</li>
		<li>pc端 proxy 》 ssl proxying setings 设置enable  设置访问白名单 端口443   如 ＊.443(代理所有域名的443端口)</li>
		<li>手机端设置wifi代理  </li>
		<li>手机端访问  charlesproxy.com/getssl 安装手机证书</li>
	</ul>
	<ul>
		<h3>应用</h3>
		<li>
			线上环境有bug，直接修改返回结果进行调试
		</li>
		<li>
			调试android iphone端代码
		</li>
		<li>
			
		</li>
	</ul>

	<ul>
		<h3>步骤</h3>
		<li>
			1 安装 Fiddler 
		</li>
		<li>
			2.  配置fiddler https抓包  步骤： tools > Fiddler Options >https  （依次点击，会自动安装证书）<br>
				配置fiddler 无线抓包 步骤： tools > Fiddler Options >connections > allow remote  <br>
		</li>
		<li>
			3 手机端代理配置   连接pc的热点  wifi设置手动ip代理  ip地址通过ipconfig查看 默认端口8888 <br>
			4 手机浏览器打开 ip:8888  安装手机端认证书
		</li>

		<li>
			** 有时候无法抓取https的包，可以忽略后重新连接，然后重新下载证书
		</li>
	</ul>
	
	<br><br>
	<ul>
		<h3>技巧</h3>
		<li>
			如何拦截返回结果为本地代码 ？
			<p>选择一个请求 > 右键save > 把结果保存到一个位置 </p>
			<p>选择右边的autoResponder > 选择一个请求并点击add rules > 选中 enable rules和unmatched > 下方选择返回的本地文件 </p>
			<p>修改本地文件   刷新页面  返回的就是本地的代码而不是远程代码</p>
		</li>
		<li>
			如何断点调试？
			<p>bpu               	清除之前所有的断点调试</p>
			<p>bpu www.baidu.com  	建立该链接的断点调试</p>
			<p>打开该链接           请求列表中该链接被打断</p>
			<p>点击右侧 inspectors下的webforms     修改请求参数</p>
			<p>点击break on response  会在请求发出之前中断 同时数据返回后未到达浏览器之前再次中断</p>
			<p>点击run on completion   数据返回后不会中断，而是直接返回给浏览器，没有修改的机会  </p>
		</li>
		<li>
			2.如何设置代理，抓取到路由器的数据包？
		</li>
		<li>
			
			这几个命令主要用于批量设置断点

			Bpafter xxx: 中断 URL 包含指定字符的全部 session 响应

			Bps xxx: 中断 HTTP 响应状态为指定字符的全部 session 响应。

			Bpv xxx: 中断指定请求方式的全部 session 响应

			Bpm xxx: 中断指定请求方式的全部 session 响应。等同于bpv xxx

			Bpu xxx:与bpafter类似。该命令用的最多，也最方便

			当这些命令没有加参数时，会清空所有设置了断点的HTTP请求。

		</li>
	</ul>
</body>
</html>